\hypertarget{set__orientation_8py}{}\doxysection{scripts/set\+\_\+orientation.py File Reference}
\label{set__orientation_8py}\index{scripts/set\_orientation.py@{scripts/set\_orientation.py}}


This file contains the implementation for the set\+\_\+orientation node.  


\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
def \mbox{\hyperlink{set__orientation_8py_a818c79b14caa1f150ad60588e2f63da2}{set\+\_\+orientation.\+clbk\+\_\+odom}} (msg)
\begin{DoxyCompactList}\small\item\em This is the callback function for the \textquotesingle{}sub\+\_\+odom\textquotesingle{} subscriber of the R\+OS topic \textquotesingle{}/odom\textquotesingle{}. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{set__orientation_8py_a3aa98eaa6a3808073c5ff3709d684d3c}{set\+\_\+orientation.\+normalize\+\_\+angle}} (angle)
\begin{DoxyCompactList}\small\item\em This function normalizes the robot\textquotesingle{}s orientation angle relative to the goal orientation. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{set__orientation_8py_a898ffebdebe68dbaac8b7f53e071e088}{set\+\_\+orientation.\+fix\+\_\+yaw}} (goal)
\begin{DoxyCompactList}\small\item\em This function adjusts the robot\textquotesingle{}s yaw. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{set__orientation_8py_a3de80419f01edbcf4ef6baed8e5569b0}{set\+\_\+orientation.\+done}} ()
\begin{DoxyCompactList}\small\item\em This function sets the robot\textquotesingle{}s angular velocities to zero. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{set__orientation_8py_a601b33b2e8deb0536255d4a8e0389094}{set\+\_\+orientation.\+set\+\_\+orien\+\_\+clbk}} (msg)
\begin{DoxyCompactList}\small\item\em This is the callback function for the \textquotesingle{}request\+\_\+set\+\_\+orientation\textquotesingle{} service. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{set__orientation_8py_a0d5c4a22275688e76caf4ff51bb37ca1}{set\+\_\+orientation.\+main}} ()
\begin{DoxyCompactList}\small\item\em The main function of the \textquotesingle{}hint\+\_\+collector\textquotesingle{} node. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{set__orientation_8py_a5b3d921e75311dcc896e3dcf05493a93}\label{set__orientation_8py_a5b3d921e75311dcc896e3dcf05493a93}} 
int \mbox{\hyperlink{set__orientation_8py_a5b3d921e75311dcc896e3dcf05493a93}{set\+\_\+orientation.\+yaw\+\_\+}} = 0
\begin{DoxyCompactList}\small\item\em A global integer variable used to store the robot\textquotesingle{}s yaw value. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{set__orientation_8py_aed98b68f9e12007516c9b077de5d9ee3}\label{set__orientation_8py_aed98b68f9e12007516c9b077de5d9ee3}} 
int \mbox{\hyperlink{set__orientation_8py_aed98b68f9e12007516c9b077de5d9ee3}{set\+\_\+orientation.\+yaw\+\_\+precision\+\_\+}} = math.\+pi / 9
\begin{DoxyCompactList}\small\item\em A global float variable used as a parameter for the robot\textquotesingle{}s yaw precision. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{set__orientation_8py_a6b7f23b4abfe3bb4590d895d0c6707ea}\label{set__orientation_8py_a6b7f23b4abfe3bb4590d895d0c6707ea}} 
int \mbox{\hyperlink{set__orientation_8py_a6b7f23b4abfe3bb4590d895d0c6707ea}{set\+\_\+orientation.\+yaw\+\_\+precision\+\_\+2\+\_\+}} = math.\+pi / 90
\begin{DoxyCompactList}\small\item\em A global float variable used as a secondary parameter for the robot\textquotesingle{}s yaw precision. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{set__orientation_8py_a740c94c7c43a4c72ddc68230bdf1ed4c}\label{set__orientation_8py_a740c94c7c43a4c72ddc68230bdf1ed4c}} 
\mbox{\hyperlink{set__orientation_8py_a740c94c7c43a4c72ddc68230bdf1ed4c}{set\+\_\+orientation.\+pub}} = None
\begin{DoxyCompactList}\small\item\em A global variable for initializing the publisher for the \textquotesingle{}/cmd\+\_\+vel\textquotesingle{} topic. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{set__orientation_8py_a84252ce27805cef4e284d62b735b9aa7}\label{set__orientation_8py_a84252ce27805cef4e284d62b735b9aa7}} 
float \mbox{\hyperlink{set__orientation_8py_a84252ce27805cef4e284d62b735b9aa7}{set\+\_\+orientation.\+kp\+\_\+a}} = -\/3.\+0
\begin{DoxyCompactList}\small\item\em A global float variable used as a parameter for calculating the robot\textquotesingle{}s new angular velocities. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{set__orientation_8py_a64479bc4e32c8aefde997c751f112cd8}\label{set__orientation_8py_a64479bc4e32c8aefde997c751f112cd8}} 
float \mbox{\hyperlink{set__orientation_8py_a64479bc4e32c8aefde997c751f112cd8}{set\+\_\+orientation.\+kp\+\_\+d}} = 0.\+2
\begin{DoxyCompactList}\small\item\em A global float variable used as a parameter for calculating the robot\textquotesingle{}s new linear velocities. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{set__orientation_8py_a5e07bc8436886b131dd66ca5ad288f90}\label{set__orientation_8py_a5e07bc8436886b131dd66ca5ad288f90}} 
float \mbox{\hyperlink{set__orientation_8py_a5e07bc8436886b131dd66ca5ad288f90}{set\+\_\+orientation.\+ub\+\_\+a}} = 0.\+6
\begin{DoxyCompactList}\small\item\em A global float variable used to set the upper bound for the robot\textquotesingle{}s angular velocity. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{set__orientation_8py_a038bb5c396ca07b2de5f63f32af743ab}\label{set__orientation_8py_a038bb5c396ca07b2de5f63f32af743ab}} 
float \mbox{\hyperlink{set__orientation_8py_a038bb5c396ca07b2de5f63f32af743ab}{set\+\_\+orientation.\+lb\+\_\+a}} = -\/0.\+5
\begin{DoxyCompactList}\small\item\em A global float variable used to set the lower bound for the robot\textquotesingle{}s angular velocity. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{set__orientation_8py_aa7bad7d08b86229ba539a8de17ff0641}\label{set__orientation_8py_aa7bad7d08b86229ba539a8de17ff0641}} 
float \mbox{\hyperlink{set__orientation_8py_aa7bad7d08b86229ba539a8de17ff0641}{set\+\_\+orientation.\+ub\+\_\+d}} = 0.\+6
\begin{DoxyCompactList}\small\item\em A global float variable used to set the upper bound for the robot\textquotesingle{}s linear velocity. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
This file contains the implementation for the set\+\_\+orientation node. 

\begin{DoxyAuthor}{Author}
Muhammad Ali Haider Dar 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
1.\+0 
\end{DoxyVersion}
\begin{DoxyDate}{Date}
12/08/2024
\end{DoxyDate}
Service \+: ~\newline
 ° /armor\+\_\+interface\+\_\+srv ° /oracle\+\_\+service

This node receives the desired orientation goal coordinates via a \textquotesingle{}/request\+\_\+set\+\_\+orientation\textquotesingle{} service request from the \textquotesingle{}my\+\_\+action\textquotesingle{} node. It calculates the necessary angular velocity for the robot to reach the target orientation and publishes the resulting command to the \textquotesingle{}cmd\+\_\+vel\textquotesingle{} topic. 

\doxysubsection{Function Documentation}
\mbox{\Hypertarget{set__orientation_8py_a818c79b14caa1f150ad60588e2f63da2}\label{set__orientation_8py_a818c79b14caa1f150ad60588e2f63da2}} 
\index{set\_orientation.py@{set\_orientation.py}!clbk\_odom@{clbk\_odom}}
\index{clbk\_odom@{clbk\_odom}!set\_orientation.py@{set\_orientation.py}}
\doxysubsubsection{\texorpdfstring{clbk\_odom()}{clbk\_odom()}}
{\footnotesize\ttfamily def set\+\_\+orientation.\+clbk\+\_\+odom (\begin{DoxyParamCaption}\item[{}]{msg }\end{DoxyParamCaption})}



This is the callback function for the \textquotesingle{}sub\+\_\+odom\textquotesingle{} subscriber of the R\+OS topic \textquotesingle{}/odom\textquotesingle{}. 


\begin{DoxyParams}{Parameters}
{\em msg} & Argument with data structure type Odometry ~\newline
 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{[}none\mbox{]}
\end{DoxyReturn}
This function processes the robot\textquotesingle{}s odometry data received from the \textquotesingle{}/odom\textquotesingle{} topic, extracts the position and yaw, and stores them in the global variables \textquotesingle{}position\+\_\+\textquotesingle{} and \textquotesingle{}yaw\+\_\+\textquotesingle{}. \mbox{\Hypertarget{set__orientation_8py_a3de80419f01edbcf4ef6baed8e5569b0}\label{set__orientation_8py_a3de80419f01edbcf4ef6baed8e5569b0}} 
\index{set\_orientation.py@{set\_orientation.py}!done@{done}}
\index{done@{done}!set\_orientation.py@{set\_orientation.py}}
\doxysubsubsection{\texorpdfstring{done()}{done()}}
{\footnotesize\ttfamily def set\+\_\+orientation.\+done (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



This function sets the robot\textquotesingle{}s angular velocities to zero. 


\begin{DoxyParams}{Parameters}
{\em \mbox{[}none\mbox{]}} & ~\newline
 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{[}none\mbox{]}
\end{DoxyReturn}
This function stops the robot by setting its angular velocities to zero. It is typically used when the robot has successfully reached the desired orientation. \mbox{\Hypertarget{set__orientation_8py_a898ffebdebe68dbaac8b7f53e071e088}\label{set__orientation_8py_a898ffebdebe68dbaac8b7f53e071e088}} 
\index{set\_orientation.py@{set\_orientation.py}!fix\_yaw@{fix\_yaw}}
\index{fix\_yaw@{fix\_yaw}!set\_orientation.py@{set\_orientation.py}}
\doxysubsubsection{\texorpdfstring{fix\_yaw()}{fix\_yaw()}}
{\footnotesize\ttfamily def set\+\_\+orientation.\+fix\+\_\+yaw (\begin{DoxyParamCaption}\item[{}]{goal }\end{DoxyParamCaption})}



This function adjusts the robot\textquotesingle{}s yaw. 


\begin{DoxyParams}{Parameters}
{\em des\+\_\+pos} & Argument with data type \textquotesingle{}float\textquotesingle{} \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{[}none\mbox{]}
\end{DoxyReturn}
This function takes the desired position as input. It calculates the necessary angular velocity based on the \textquotesingle{}yaw error\textquotesingle{} and then publishes it to the \textquotesingle{}cmd\+\_\+vel\textquotesingle{} topic. \mbox{\Hypertarget{set__orientation_8py_a0d5c4a22275688e76caf4ff51bb37ca1}\label{set__orientation_8py_a0d5c4a22275688e76caf4ff51bb37ca1}} 
\index{set\_orientation.py@{set\_orientation.py}!main@{main}}
\index{main@{main}!set\_orientation.py@{set\_orientation.py}}
\doxysubsubsection{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily def set\+\_\+orientation.\+main (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



The main function of the \textquotesingle{}hint\+\_\+collector\textquotesingle{} node. 

\begin{DoxyReturn}{Returns}
Always returns 0, as this function cannot fail.
\end{DoxyReturn}
This function initializes the R\+OS node, sets up the server for the \textquotesingle{}/request\+\_\+set\+\_\+orien\textquotesingle{} service, subscribes to the \textquotesingle{}/odom\textquotesingle{} topic, and initializes the publisher for the \textquotesingle{}/cmd\+\_\+vel\textquotesingle{} topic. \mbox{\Hypertarget{set__orientation_8py_a3aa98eaa6a3808073c5ff3709d684d3c}\label{set__orientation_8py_a3aa98eaa6a3808073c5ff3709d684d3c}} 
\index{set\_orientation.py@{set\_orientation.py}!normalize\_angle@{normalize\_angle}}
\index{normalize\_angle@{normalize\_angle}!set\_orientation.py@{set\_orientation.py}}
\doxysubsubsection{\texorpdfstring{normalize\_angle()}{normalize\_angle()}}
{\footnotesize\ttfamily def set\+\_\+orientation.\+normalize\+\_\+angle (\begin{DoxyParamCaption}\item[{}]{angle }\end{DoxyParamCaption})}



This function normalizes the robot\textquotesingle{}s orientation angle relative to the goal orientation. 


\begin{DoxyParams}{Parameters}
{\em angle} & Argument with data type \textquotesingle{}float\textquotesingle{} \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Normalized angle value
\end{DoxyReturn}
This function adjusts the robot\textquotesingle{}s orientation angle to be within a standard range relative to the goal orientation. \mbox{\Hypertarget{set__orientation_8py_a601b33b2e8deb0536255d4a8e0389094}\label{set__orientation_8py_a601b33b2e8deb0536255d4a8e0389094}} 
\index{set\_orientation.py@{set\_orientation.py}!set\_orien\_clbk@{set\_orien\_clbk}}
\index{set\_orien\_clbk@{set\_orien\_clbk}!set\_orientation.py@{set\_orientation.py}}
\doxysubsubsection{\texorpdfstring{set\_orien\_clbk()}{set\_orien\_clbk()}}
{\footnotesize\ttfamily def set\+\_\+orientation.\+set\+\_\+orien\+\_\+clbk (\begin{DoxyParamCaption}\item[{}]{msg }\end{DoxyParamCaption})}



This is the callback function for the \textquotesingle{}request\+\_\+set\+\_\+orientation\textquotesingle{} service. 

\begin{DoxyReturn}{Returns}
Bool
\end{DoxyReturn}
This function responds to client requests by invoking the \textquotesingle{}set\+\_\+orientation\textquotesingle{} function to adjust the robot\textquotesingle{}s orientation. 